//*****************************************************************************
// File Name:	main.c
//
// Description:	The main source file of project.
//
// Created by:	George Zheng, Mar. 2020
// Revised by:	Rev.1, George Zheng, Mar. 2020
//
// Copyright 2020 Hynitron, All Rights Reserved.
//*****************************************************************************

#include "project.h"

//=============================================================================
// Local Data Type Definition
//=============================================================================

//=============================================================================
// Local (Static) Variables Definition
//=============================================================================
const int16  testimg[CFG_NUM_2D_COLS*CFG_NUM_2D_ROWS]={
#if 0
1,	1,	0,	2,	2,	1,
0,	0,	0,	0,	0,	0,
1,	1,	1,	3,	3,	1,
1,	1,	1,	18,	60,	1,
1,	62,	117,39,	84,	1,
1,	30,	48,	7,	1,	1,
1,	3,	7,	5,	3,	1,
0,	0,	0,	0,	0,	0
#endif
#if 0
1,	1,	0,	2,	2,	1,
0,	0,	0,	0,	0,	0,
1,	1,	15,	14,	3,	1,
1,	1,	45,	76,	1,	1,
1,	2,	64,6,	1,	1,
1,	1,	19,	22,	1,	1,
1,	3,	3,	3,	3,	1,
0,	0,	0,	0,	0,	0
#endif
#if 0
1,	1,	0,	2,	2,	1,
0,	0,	0,	0,	0,	0,
1,	1,	87,	106,14,	1,
1,	1,	46,	68,	11,	1,
1,	2,	11,	12,	6,	1,
1,	1,	95,	65,	6,	1,
1,	3,	44,	35,	10,	1,
0,	0,	0,	0,	0,	0
#endif
#if 0
1,	1,	0,	2,	2,	1,
0,	10,	55,	21,	9,	0,
1,	21,	200,43,	8,	1,
1,	5,	41,	17,	10,	1,
1,	36,	32,	9,	1,	1,
1,	86,	89,	9,	1,	1,
1,	3,	20,	1,	1,	1,
0,	0,	0,	0,	0,	0
#endif
#if 0
2,	-1,	0,	-1,	1,	7,	-6,	-7,	-7,	0,	-3,	 0,
0,	0,	3,	1,	11,	74,	75,	7,	18,	11,	 2,	-2,
-6,-7,	2,	3,	45,	202,216,73,	203,190,24,	-2,
2,	6,	14,	9,	20,	92,	91,	22,	157,162,19,	0,
-1,	1,	10,	5,	6,	6,	-2,	12,	8,	23,	2,	0,
1,	-1,	4,	0,	0,	1,	1,	-28,20,	-5,	1,	0,
1,	1,	5,	3,	3,	2,	2,	22,-17,	-2,	0,	1,
1,1,1,1,1,1,1,1,1,1,1,1,
#endif
#if 0
0,   0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  
14,  19,  24,  19,  17,  17,  12,  10,  -1,  2,  3,  3,  
4,   0,  9,  10,  13,  3,  2,  2,  4,  3,  1,  1,  
17,  78,  133,  125,  97,  33,  12,  -1,  4,  6,  1,  0,  
93,  209,  203,  229,  230,  31,  -5,  -15,  -6,  0,  0,  -4,  
192,  229,  210,  209,  213,  31,  -16,  -18,  -9,  -3,  -7,  -5,  
179,  226,  216,  208,  120,  19,  -6,  -6,  -1,  0,  -4,  -1,  
204,  192,  216,  124,  10,  -12,  -17,  -14,  -2,  -2,  -5,  -5,  
213,  226,  209,  114,  1,  -19,  -18,  -19,  -7,  -1,  -7,  -6,  
203,  225,  207,  191,  65,  -15,  -27,  -25,  -9,  -9,  -5,  -8,  
188,  212,  193,  229,  199,  101,  11,  -16,  -2,  -4,  -3,  -6,  
145,  209,  203,  187,  200,  200,  127,  22,  -10,  -8,  -7,  -8,  
40,  204,  202,  190,  204,  196,  217,  136,  18,  -12,  -7,  -5,  
-3,  88,  203,  186,  203,  203,  202,  185,  82,  4,  -2,  -8,  
-40,  -41,  45,  192,  217,  208,  216,  193,  115,  -1,  -7,  -5,  
-33,  -32,  -37,  75,  213,  203,  205,  188,  50,  -3,  -2,  -2,  
-5,  -8,  -1,  5,  41,  88,  107,  54,  11,  10,  5,  4,  
-13,  -21,  -22,  -19,  -9,  -4,  0,  4,  12,  10,  2,  7,  
0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  
0,  2,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  


#endif
#if 1
16, 16, 2, -2, -5, -7, -7, -5, 1, 8, 6, 11, 
11, 13, 8, 5, 6, 13, 9, 7, 2, 8, 10, 6, 
12, 3, -12, -16, 17, 98, 98, 26, 0, 8, 16, 3, 
9, -6, -20, -21, 122, 209, 200, 164, 31, 15, 10, 2, 
10, -4, -30, 10, 204, 194, 196, 228, 92, 25, 16, 2, 
12, 33, 108, 190, 200, 180, 170, 133, 35, 8, 7, 4, 
20, 115, 216, 208, 206, 198, 153, -14, -23, -2, -2, 1, 
10, 98, 216, 200, 213, 192, 160, -14, -23, -10, 0, -9, 
5, 94, 209, 190, 203, 187, 181, 66, -29, -13, -8, -6, 
1, 131, 207, 191, 184, 169, 158, 143, -14, -21, -14, -9, 
-1, 115, 193, 221, 190, 177, 175, 190, 72, -14, -5, -3, 
-8, 15, 198, 187, 182, 164, 153, 193, 176, 16, -7, -10, 
-15, -33, 66, 190, 191, 173, 178, 194, 198, 45, -7, -6, 
-12, -38, -43, 125, 201, 193, 184, 185, 191, 57, 1, -6, 
-10, -33, -45, 5, 176, 208, 215, 193, 197, 22, -5, -4, 
-6, -17, -39, -39, 30, 142, 205, 188, 57, 1, 4, 1, 
0, -1, -10, -14, -7, 11, 58, 49, 16, 16, 8, 7, 
0, 2, -6, -9, -8, -7, -4, 2, 14, 21, 10, 7, 
7, 7, -6, -9, -10, -10, -12, -4, 6, 21, 15, 12, 
1, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 

#endif
#if 0
-1,1,0,3,-1,-1,-1,0,-1,1,0,1,
0,0,0,0,0,0,0,0,0,0,0,0,
-3,1,-2,1,0,1,-3,0,2,2,9,1,
0,0,0,0,0,0,0,0,0,0,0,0,
3,-1,-2,-1,1,-4,-2,0,0,0,-1,0,
0,0,0,0,0,0,0,0,0,0,0,0,
-1,-2,2,1,1,0,0,-1,2,-1,0,1,
1,-5,0,-1,0,0,10,1,0,-4,1,1,
-4,-3,-2,0,-2,14,97,79,4,-3,-2,1,
-4,-4,-5,-4,2,84,198,172,-2,-7,-1,-1,
-4,-8,-2,-1,16,110,202,60,-2,-11,-4,-4,
-4,-9,2,16,91,198,171,-11,-8,-4,-6,-4,
-2,-8,-3,-10,54,186,81,-2,0,-3,-5,-5,
-3,-4,0,1,0,16,6,-8,-3,-7,-4,-3,
-6,-4,-3,-1,3,-6,-2,0,-3,-2,-4,0,
0,0,0,0,0,0,0,0,0,0,0,0,
-2,-2,0,-2,-2,-3,-5,0,-1,0,-1,-1,
0,0,0,0,0,0,0,0,0,0,0,0,
-1,5,1,1,0,0,-2,0,0,1,0,0,
0,-1,0,0,0,0,0,0,0,0,0,0,


#endif
#if 0
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 1, 0, 0, 1, 1, 2, 2, 1, 2, 0, 2,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 2, 0, 1, 2, 1, 2, 1, 2, 1, 3, 1,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 1, 0, 0, 1, 3, 2, 3, 1, 0, 0, -1,
1, 3, 3, 2, 2, 3, 1, 1, 3, 1, 1, 2,
1, 2, 0, 3, 5, 6, 38, 45, 3, 4, 2, 1,
0, -4, -1, 1, 0, 3, 180, 225, 22, 0, 0, -2,
2, -2, 1, 4, 4, 14, 185, 224, 18, 1, 2, 0,
0, -3, 1, 2, -7, 53, 211, 127, 7, 1, 0, 1,
0, -1, 4, 4, 10, 70, 213, 87, 9, 2, 3, 1,
0, -1, 1, 3, 5, 13, 69, 16, 2, 0, 2, 2,
3, 3, 2, 3, 7, 4, 2, 5, 4, 2, 2, 1,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
1, 1, 3, 3, 3, 3, 1, 2, 0, 0, 1, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 3, 4, 3, 2, 1, 2, 0, 2, 3, 0, 2,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,

#endif
#if 0
0,0,0,0,0,0,0,0,0,0,0,0,
-2,-2,-2,1,-1,0,-2,-5,-1,0,-2,-3,
0,0,0,0,0,0,0,0,0,0,0,0,
0,-2,-2,-4,-5,-4,-3,-2,-6,0,-3,-4,
0,0,0,0,0,0,0,0,0,0,0,0,
-3,-4,1,-3,-3,-1,-2,0,-2,-6,-1,0,
0,0,0,0,0,0,0,0,0,0,0,0,
-4,-6,0,0,11,20,3,17,3,-4,-8,-1,
-7,-10,-4,3,141,201,95,200,191,8,-9,-6,
-8,-7,-4,13,199,200,120,223,191,-26,-16,-9,
-5,-8,-2,9,75,84,21,80,38,-41,-14,-12,
-3,-4,-11,2,6,4,-1,-18,-22,-19,-4,-4,
-7,-5,-9,2,-5,-15,-9,-10,-27,-18,-10,-3,
-2,-4,3,-16,0,-2,-9,-1,-13,-14,-7,-2,
-1,-2,3,-3,-6,-3,1,-4,-7,-6,-4,-3,
0,-3,-3,1,-12,5,-9,-2,-4,-5,-6,0,
0,0,0,0,0,0,0,0,0,0,0,0,
-1,1,1,-2,0,-1,-1,-3,-2,0,0,-2,
0,0,0,0,0,0,0,0,0,0,0,0,
2,1,0,0,0,0,0,0,0,0,0,0,

#endif
#if 0
0,0,0,0,0,0,0,0,0,0,0,0,
-2,1,-2,0,1,1,-1,-3,-1,0,-2,-2,
0,0,0,0,0,0,0,0,0,0,0,0,
0,-1,-2,-3,-2,-4,-2,-3,-3,0,-3,-5,
0,0,0,0,0,0,0,0,0,0,0,0,
-3,-3,0,-2,-4,-1,-3,0,-1,-6,-1,-1,
0,0,0,0,0,0,0,0,0,0,0,0,
-2,0,0,2,7,3,2,5,2,-5,-8,-2,
-3,-1,0,3,76,93,33,103,76,-8,-9,-1,
-4,-4,-4,53,199,200,147,223,191,-9,-16,-10,
-4,-7,-7,75,200,195,109,224,181,-21,-15,-11,
-3,-3,-10,1,49,64,24,7,3,-18,-5,-1,
-4,-1,-11,-5,-5,-9,-18,-6,-24,-16,-10,-1,
-1,-3,-1,-16,1,-2,-24,2,-12,-14,-6,-2,
-5,0,-1,-4,-13,-2,0,-5,-9,-6,-7,-3,
0,-3,-2,0,-10,3,-9,-4,-6,-4,-7,0,
0,0,0,0,0,0,0,0,0,0,0,0,
-1,0,-1,1,-4,-1,-1,-4,-4,-3,0,-2,
0,0,0,0,0,0,0,0,0,0,0,0,
1,1,0,0,0,0,0,0,0,0,0,0,

#endif
};

segConfig_t segmentcfg={20,300,5,50,50};

//=============================================================================
// Local (Static) Functions Declaration
//=============================================================================

//=============================================================================
// Global Functions Definition
//=============================================================================

//-----------------------------------------------------------------------------
// Function Name:	main
// Description:		The main function of this project.
//-----------------------------------------------------------------------------
int main(void)
{
	uint16 segcount;


    segmentation_init();
	segmentation_getConfig(&segmentcfg);
	segcount=segmentation_segments((touchImage_t *)testimg);
	segmentation_calcSegmentPosition((touchImage_t *)testimg, segcount);
	return 1;
}

//=============================================================================
// Local (Static) Functions Definition
//=============================================================================

//-----------------------------------------------------------------------------
// Function Name:	xxx
// Description:		.
//-----------------------------------------------------------------------------

